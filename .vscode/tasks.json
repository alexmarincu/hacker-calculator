{
    "version": "2.0.0",
    "type": "shell",
    "presentation": {
        "panel": "new"
    },
    "options": {
        "cwd": "${workspaceFolder}"
    },
    "problemMatcher": [],
    "tasks": [
        {
            "label": "App: Run",
            "command": "${command:python.interpreterPath} src/main.py",
            "group": "build"
        },
        {
            "label": "App: Build",
            "linux": {
                "command": [
                    ". .pyvenv/bin/activate && flet pack src/main.py",
                    " --name HckrCalc",
                    " --icon assets/icon.png",
                    " --add-data 'assets:.'",
                    " --onedir"
                ],
            },
            "windows": {
                "command": [
                    ".pyvenv/Scripts/Activate.ps1; flet pack src/main.py",
                    " --name HckrCalc",
                    " --icon assets/icon.png",
                    " --add-data 'assets;.'",
                    " --onedir",
                    " --file-description '${config:appName}'",
                    " --file-version '${config:appVersion}'",
                    " --product-name '${config:appName}'",
                    " --product-version '${config:appVersion}'",
                    " --copyright 'Copyright (c) 2023 Alex Marincu'"
                ],
            },
            "group": "build"
        },
        {
            "label": "Python venv: Setup",
            "command": "${command:python.interpreterPath} -m venv .pyvenv"
        },
        {
            "label": "Python venv: Activate",
            "linux": {
                "command": ". .pyvenv/bin/activate"
            },
            "windows": {
                "command": ".pyvenv/Scripts/Activate.ps1"
            }
        },
        {
            "label": "Python venv: Install requirements",
            "command": [
                "${command:python.interpreterPath}",
                " -m pip install -r requirements.txt"
            ]
        }
    ]
}